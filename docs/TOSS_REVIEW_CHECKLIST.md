# Toss 심사/출시 체크리스트 (서비스)

이 문서는 “습관환급”을 앱인토스(WebView)로 테스트하고 검토 요청을 넣기 위한 최소 체크리스트입니다.

## 0) 정책/제약 (반려 포인트)
- **iframe 금지** (유튜브 임베드 목적만 예외)  
- 앱인토스 API 사용 전 **서버 mTLS 필수** (미적용 시 네트워크 오류 발생)  
- 토스앱에서 QR 테스트는 **워크스페이스 멤버 + 만 19세 이상** 조건이 있습니다.
- 콘솔에서 **테스트를 최소 1회 이상 완료**해야 검토 요청을 진행할 수 있습니다.

## 1) 콘솔 테스트
1. `npx ait build` 로 `.ait` 생성
2. 콘솔에 업로드 → QR 코드 발급
3. 토스앱에서 QR 스캔 → 최소 1회 이상 테스트 완료

## 2) 우리 서비스 기준 (Stub)
- `/v1/auth/exchange` 는 데모 토큰을 발급합니다.
- 결제/리워드 연동 전 단계이므로, 심사 제출 전 **서비스 설명/약관/고지 문구**를 “습관 관리용”으로 고정하세요.
- 실제 출시(실사용) 단계에서는 토스 로그인/포인트 지급 API 연동 + mTLS 적용이 필요합니다.

## 3) 제출 전 점검 커맨드
```bash
# iframe 사용 여부(유튜브 외 사용 금지)
rg -n "<iframe" frontend/src || true

# 프론트 빌드
cd frontend
pnpm i
pnpm build

# 백엔드 빌드
cd ../backend
go build ./...
```


## 환경변수
- `AIT_APP_NAME`: 콘솔 AppName(App ID)와 동일하게
- `AIT_ICON_URL`: 아이콘 URL(선택)
